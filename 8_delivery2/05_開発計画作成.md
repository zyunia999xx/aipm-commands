# : é–‹ç™ºè¨ˆç”»ä½œæˆ

## ç›®çš„
Backlog2ã‚’å¯¾è±¡ã«ã€å®Ÿè£…å¯¾è±¡ãƒ»å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãƒ»å½¹å‰²åˆ†æ‹…ã‚’æ˜ç¢ºåŒ–ã—ãŸé–‹ç™ºè¨ˆç”»ã‚’ä½œæˆã—ã¾ã™ã€‚

## å®Ÿè¡Œæ‰‹é †ï¼ˆRules Stepsï¼‰
```yaml
- trigger: "(delivery2_é–‹ç™ºè¨ˆç”»ä½œæˆ|development_plan2)"
  priority: high
  steps:
    - name: "infer_defaults_from_thread"
      action: "analyze"
      data: ["{{thread_messages}}","{{read_files(find_files(patterns=['**/backlog/backlog2.yaml','**/strategy_roadmap.yaml','**/focus2_wbs.md']))}}"]
      instructions: |
        ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å€™è£œã€æŠ€è¡“çš„åˆ¶ç´„ã€å½¹å‰²åˆ†æ‹…ã®åˆæœŸæ¡ˆã‚’æŠ½å‡ºã—ã¦æç¤ºã—ã¦ãã ã•ã„ã€‚
      store_as: "auto_plan_seed"
    - name: "prefill_plan_seed"
      action: "display"
      content: |
        ğŸ” è‡ªå‹•æŠ½å‡º
        {{auto_plan_seed}}
    - name: "collect_plan"
      action: "ask_questions"
      questions:
        - key: project_id
          question: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID"
          required: true
        - key: start_date
          question: "é–‹ç™ºé–‹å§‹æ—¥"
          default: "{{today}}"
          required: true
        - key: story_ids
          question: "å¯¾è±¡ã‚¹ãƒˆãƒ¼ãƒªãƒ¼IDsï¼ˆUS-1,US-2 ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã€‚ç©ºæ¬„å¯ï¼‰"
          required: false
        - key: technical_constraints
          question: "æŠ€è¡“çš„ãªæ³¨æ„ç‚¹ãƒ»åˆ¶ç´„äº‹é …ï¼ˆä»»æ„ï¼‰"
          required: false
        - key: roles
          question: "é–‹ç™ºè€…ã®å½¹å‰²åˆ†æ‹…ï¼ˆä»»æ„ï¼‰"
          required: false
        - key: implementation_approach
          question: "å®Ÿè£…é †åºã®åŸºæœ¬æ–¹é‡"
          options: ["æ©Ÿèƒ½æ¨ªæ–­çš„","ãƒ¬ã‚¤ãƒ¤ãƒ¼æ¨ªæ–­çš„","ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å„ªå…ˆ","ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å„ªå…ˆ","ãã®ä»–"]
          required: true
      store_as: plan

    - name: "confirm"
      action: "confirm"
      message: "é–‹ç™ºè¨ˆç”»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"

    - name: "create_draft"
      action: "create_markdown_file"
      path: "{{patterns.flow_date}}/delivery2_development_plan.md"
      content: |
        ---
        doc_type: development_plan
        project_id: {{plan.project_id}}
        created_at: {{today}}
        version: v1.0
        ---

        # é–‹ç™ºè¨ˆç”»ï¼š{{plan.project_id}}

        ## 1. æ¦‚è¦
        - é–‹ç™ºé–‹å§‹æ—¥: {{plan.start_date}}
        - å®Ÿè£…ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: {{plan.implementation_approach}}

        ## 2. å¯¾è±¡ã‚¹ãƒˆãƒ¼ãƒªãƒ¼
        {{#if plan.story_ids}}
        {{plan.story_ids}}
        {{else}}
        ãƒãƒƒã‚¯ãƒ­ã‚°ã‹ã‚‰è‡ªå‹•å–å¾—ã—ãŸã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’å®Ÿè£…ã—ã¾ã™ã€‚
        {{/if}}

        ## 3. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æ§‹æˆ
        - è¦æ¤œè¨
        {{#if plan.technical_constraints}}
        ### æŠ€è¡“çš„åˆ¶ç´„äº‹é …
        {{plan.technical_constraints}}
        {{/if}}

        ## 4. å®Ÿè£…é †åº
        {{plan.implementation_approach}} ã«åŸºã¥ãã€åŸºç›¤â†’ä¸»è¦â†’æ‹¡å¼µã®é †ã§å®Ÿè£…ã—ã¾ã™ã€‚

        {{#if plan.roles}}
        ## 5. å½¹å‰²åˆ†æ‹…
        {{plan.roles}}
        {{/if}}

        ## 6. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
        1. å®Ÿè£…é †åºè¨ˆç”»ã®è©³ç´°åŒ–
        2. ä¾å­˜é–¢ä¿‚ã®åˆ†æ
        3. ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å®Ÿè£…ã®é–‹å§‹

    - name: "notify"
      action: "notify"
      message: |
        âœ… ç”Ÿæˆã—ã¾ã—ãŸï¼š{{patterns.flow_date}}/delivery2_development_plan.md
        æ¬¡ã¯ã€Œ06_å®Ÿè£…é †åºè¨ˆç”»ã€ã¸ã€‚
```

## æ¬¡ã«å®Ÿè¡Œ
- `06_å®Ÿè£…é †åºè¨ˆç”»`
