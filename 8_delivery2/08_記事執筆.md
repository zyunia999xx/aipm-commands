# : è¨˜äº‹åŸ·ç­†ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰

## ç›®çš„
Delivery2ã«é–¢é€£ã™ã‚‹æŠ€è¡“è§£èª¬ãƒ»æ‰‹é †ãƒ»ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ç­‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¨ˆç”»ãƒ»åŸ·ç­†ã—ã¾ã™ã€‚

## å®Ÿè¡Œæ‰‹é †ï¼ˆRules Stepsï¼‰
```yaml
- trigger: "(delivery2_è¨˜äº‹åŸ·ç­†|article_write2)"
  priority: high
  steps:
    - name: "infer_defaults_from_thread"
      action: "analyze"
      data: ["{{thread_messages}}","{{read_files(find_files(patterns=['**/delivery2_development_review.md','**/delivery2_story_*.md']))}}"]
      instructions: |
        è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«/ç›®çš„/ç¨®é¡/ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å€™è£œã‚’æŠ½å‡ºã—ã€displayç”¨ã«ç®‡æ¡æ›¸ãã§æç¤ºã—ã¦ãã ã•ã„ã€‚
      store_as: "auto_article_seed"
    - name: "prefill_article_seed"
      action: "display"
      content: |
        ğŸ” è‡ªå‹•æŠ½å‡º
        {{auto_article_seed}}
    - name: "collect_article"
      action: "ask_questions"
      questions:
        - key: project_id
          question: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆID"
          required: true
        - key: article_title
          question: "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«"
          required: true
        - key: article_purpose
          question: "è¨˜äº‹ã®ç›®çš„/å¯¾è±¡èª­è€…"
          required: true
        - key: article_type
          question: "è¨˜äº‹ã®ç¨®é¡"
          options: ["æŠ€è¡“è§£èª¬","ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«","ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£","æ¯”è¼ƒåˆ†æ","ãƒˆãƒ¬ãƒ³ãƒ‰è§£èª¬","ãã®ä»–"]
          required: true
        - key: keywords
          question: "ä¸»è¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰/ãƒˆãƒ”ãƒƒã‚¯"
          required: true
        - key: references
          question: "å‚è€ƒè³‡æ–™/ã‚½ãƒ¼ã‚¹ï¼ˆä»»æ„ï¼‰"
          required: false
        - key: outline
          question: "è¨˜äº‹ã®æ§‹æˆæ¡ˆï¼ˆä»»æ„ï¼‰"
          required: false
        - key: attachments
          question: "æ·»ä»˜è³‡æ–™ï¼ˆå›³è¡¨ãªã©ï¼‰ï¼ˆä»»æ„ï¼‰"
          required: false
      store_as: art

    - name: "confirm"
      action: "confirm"
      message: "è¨˜äº‹ãƒ‰ãƒ©ãƒ•ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"

    - name: "create_draft"
      action: "create_markdown_file"
      path: "{{patterns.flow_date}}/delivery2_article.md"
      content: |
        ---
        doc_type: article
        project_id: {{art.project_id}}
        created_at: {{today}}
        version: v1.0
        ---

        # {{art.article_title}}

        ## è¨˜äº‹è¨ˆç”»
        - ç¨®é¡: {{art.article_type}}
        - ç›®çš„/å¯¾è±¡èª­è€…: {{art.article_purpose}}
        - ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: {{art.keywords}}

        {{#if art.references}}
        ## å‚è€ƒè³‡æ–™
        {{art.references}}
        {{/if}}

        ## æ§‹æˆæ¡ˆ
        {{#if art.outline}}
        {{art.outline}}
        {{else}}
        1. ã¯ã˜ã‚ã«ï¼ˆèƒŒæ™¯/ç›®çš„ï¼‰
        2. ä¸»è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³1
        3. ä¸»è¦ã‚»ã‚¯ã‚·ãƒ§ãƒ³2
        4. ã¾ã¨ã‚ï¼ˆå­¦ã³/æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
        {{/if}}

        {{#if art.attachments}}
        ## æ·»ä»˜è³‡æ–™
        {{art.attachments}}
        {{/if}}

        ## åŸ·ç­†ãƒ—ãƒ©ãƒ³
        1. èª¿æŸ» â†’ 2. ãƒ‰ãƒ©ãƒ•ãƒˆ â†’ 3. ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ 4. æœ€çµ‚åŒ–

        ## è¨˜äº‹æœ¬æ–‡
        *ã“ã“ã«æœ¬æ–‡ã‚’åŸ·ç­†ã—ã¾ã™*

        ## å…¬é–‹å…ˆ
        - {{patterns.dev_articles}}/[ãƒ•ã‚¡ã‚¤ãƒ«å]
        - ãã®ä»–

    - name: "notify"
      action: "notify"
      message: |
        âœ… ç”Ÿæˆã—ã¾ã—ãŸï¼š{{patterns.flow_date}}/delivery2_article.md
```

## æ¬¡ã«å®Ÿè¡Œ
- `09_æˆæœç‰©ç¢ºèª`
