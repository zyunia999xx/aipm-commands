# Strategy: ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­è¨ˆï¼ˆDeliveryè¨ˆæ¸¬ï¼‰

## ç›®çš„
Deliveryã§å…¬é–‹ã—ãŸã‚µãƒ¼ãƒ“ã‚¹/æ©Ÿèƒ½ã«å¯¾ã—ã€ãƒ“ã‚¸ãƒã‚¹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¾¡å€¤ã«ç›´çµã™ã‚‹è¨ˆæ¸¬æŒ‡æ¨™ï¼ˆNorth Starï¼‹å…ˆè¡Œ/é…è¡Œã€ãƒ•ã‚¡ãƒãƒ«/KPI/ã‚¤ãƒ™ãƒ³ãƒˆï¼‰ã‚’çŸ­æ™‚é–“ã§è¨­è¨ˆã—ã€å®Ÿè£…ã«æ¸¡ã›ã‚‹å½¢ã§å‡ºåŠ›ã—ã¾ã™ã€‚

## å®Ÿè¡Œæ‰‹é †ï¼ˆRules Stepsï¼‰
```yaml
- trigger: "(strategy_ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ¡ãƒˆãƒªã‚¯ã‚¹|ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­è¨ˆ|è¨ˆæ¸¬è¨­è¨ˆ|KPIè¨­è¨ˆ)"
  priority: high
  steps:
    - name: "infer_defaults_from_thread"
      action: "analyze"
      data: ["{{thread_messages}}","{{read_files(find_files(patterns=['**/delivery2_development_plan.md','**/strategy_roadmap.yaml','**/sense2_research_summary.md','**/check_*.md']))}}"]
      instructions: |
        ç¾åœ¨ã®å¯¾è±¡æ©Ÿèƒ½/ã‚¢ã‚¦ãƒˆã‚«ãƒ /ä¸»è¦è¡Œå‹•/ãƒ­ã‚°åŸºç›¤ã®å€™è£œã‚’æŠ½å‡ºã—ã€å„1è¡Œã§è¡¨ç¤ºç”¨ã«ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚
      store_as: "auto_metrics_context"
    - name: "prefill_context_display"
      action: "display"
      content: |
        ğŸ” è‡ªå‹•æŠ½å‡ºï¼ˆå€™è£œï¼‰
        {{auto_metrics_context}}
    - name: "collect_context"
      action: "ask_questions_with_template"
      template: |
        === å¯¾è±¡ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ ===
        1) å¯¾è±¡ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆ/æ©Ÿèƒ½ï¼ˆãƒªãƒªãƒ¼ã‚¹åãƒ»æ—¥ä»˜ï¼‰
        â†’
        2) äº‹æ¥­ã‚´ãƒ¼ãƒ«/å­¦ã³ãŸã„ä»®èª¬ï¼ˆ1-3æ–‡ï¼‰
        â†’
        3) ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ï¼ˆAARRRã‚„HEARTç­‰ã€è©²å½“ã™ã‚‹æ®µï¼‰
        â†’
        4) æŠ€è¡“çš„åˆ¶ç´„/ãƒ­ã‚°åŸºç›¤ï¼ˆä¾‹ï¼šGA4/Amplitude/è‡ªå‰BE/Front-endåŸ‹ã‚è¾¼ã¿ï¼‰
        â†’
        =======================

    - name: "wait"
      action: "wait_for_all_answers"

    - name: "confirm"
      action: "confirm"
      message: "å…¥åŠ›ã«åŸºã¥ããƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­è¨ˆãƒ‰ãƒ©ãƒ•ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"

    - name: "create_metrics_draft"
      action: "create_markdown_file"
      path: "{{patterns.flow_date}}/strategy_product_metrics.md"
      content: |
        # ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­è¨ˆ
        - å¯¾è±¡: {{context.1}}
        - äº‹æ¥­ã‚´ãƒ¼ãƒ«/å­¦ã³ãŸã„ä»®èª¬: {{context.2}}
        - ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•: {{context.3}}
        - ãƒ­ã‚°åŸºç›¤/åˆ¶ç´„: {{context.4}}

        ## North Star Metricï¼ˆNSMï¼‰
        - å€™è£œ: 
        - æ ¹æ‹ ï¼ˆä¾¡å€¤ã¨ç›¸é–¢/å°†æ¥ä¾¡å€¤ã®ä»£ç†æ€§ï¼‰:

        ## å…ˆè¡ŒæŒ‡æ¨™ï¼ˆLeadingï¼‰ã¨é…è¡ŒæŒ‡æ¨™ï¼ˆLaggingï¼‰
        - å…ˆè¡ŒæŒ‡æ¨™ï¼ˆæ„æ€æ±ºå®šã®æ—©æœŸæ¤œå‡ºã«æœ‰åŠ¹ãª1-3æŒ‡æ¨™ï¼‰:
        - é…è¡ŒæŒ‡æ¨™ï¼ˆæˆæœ/ç¶™ç¶šä¾¡å€¤ã®ç¢ºèªã«æœ‰åŠ¹ãª1-3æŒ‡æ¨™ï¼‰:

        ## ãƒ•ã‚¡ãƒãƒ«ï¼ˆAARRR ä¾‹ï¼‰
        - Acquisition: 
        - Activation: 
        - Retention: 
        - Revenue: 
        - Referral: 

        ## KPIã¨ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©ï¼ˆå®Ÿè£…æ¸¡ã—ç”¨ï¼‰
        | åç§° | ç›®çš„/æ„å‘³ | è¨ˆç®—å¼/ãƒˆãƒªã‚¬ | ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | è¨ˆæ¸¬ç²’åº¦ | å¯è¦–åŒ–å…ˆ |
        | --- | --- | --- | --- | --- | --- |
        |  |  |  |  |  |  |

        ```mermaid
        flowchart LR
          A[User Event] -->|track| B((Ingest)) --> C[Warehouse/Analytics]
          C --> D[Dashboard]
          C --> E[Alert/Experiment]
        ```

        ## ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
        - è¨ˆæ¸¬å®Ÿè£…ã‚¿ã‚¹ã‚¯ï¼ˆFE/BE/ETL/ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ï¼‰
        - é–¾å€¤/ã‚¢ãƒ©ãƒ¼ãƒˆè¨­è¨ˆ
        - å®Ÿé¨“è¨­è¨ˆï¼ˆå¿…è¦ãªã‚‰ï¼‰

    - name: "create_instrumentation_snippets"
      action: "create_markdown_file"
      path: "{{patterns.flow_date}}/strategy_instrumentation_snippets.md"
      content: |
        # è¨ˆæ¸¬ã‚¹ãƒ‹ãƒšãƒƒãƒˆï¼ˆé››å½¢ï¼‰
        ```html
        <script>
          // Page View
          window.analytics?.track('page_view', {
            path: location.pathname,
            ts: Date.now()
          });

          // CTA Click
          document.querySelectorAll('[data-cta]').forEach(el => {
            el.addEventListener('click', () => {
              window.analytics?.track('cta_click', {
                id: el.getAttribute('data-cta'),
                path: location.pathname,
                ts: Date.now()
              });
            });
          });
        </script>
        ```

        ```javascript
        // Node/BE ä¾‹: event enqueue
        enqueue('signup_completed', { userId, plan, ts: Date.now() });
        ```

    - name: "notify"
      action: "notify"
      message: |
        âœ… ãƒ¡ãƒˆãƒªã‚¯ã‚¹è¨­è¨ˆãƒ‰ãƒ©ãƒ•ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸï¼š
        - {{patterns.flow_date}}/strategy_product_metrics.md
        - {{patterns.flow_date}}/strategy_instrumentation_snippets.md
        Deliveryã®å®Ÿè£…ã‚¿ã‚¹ã‚¯ã¸é€£æºã—ã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ•´å‚™ã¾ã§é€²ã‚ã¾ã—ã‚‡ã†ã€‚
```

## æ¬¡ã«å®Ÿè¡Œ
- `4_delivery/07_é–‹ç™ºã‚¿ã‚¹ã‚¯åˆ†è§£` ã«è¨ˆæ¸¬å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
- å®Ÿè£…å¾Œã¯ `Experiment`/`Dashboard` æ•´å‚™ã¸

